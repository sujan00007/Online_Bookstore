{% extends "base.html" %}

{% block title %}Home - Online Bookstore{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="jumbotron p-5 rounded-3 mb-4" style="background: #FFFFFF; color: #36454F; border: 2px solid #E2E8F0; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">
    <h1 class="display-4" style="color: #36454F; font-weight: bold;">Welcome to Online Bookstore</h1>
    <p class="lead" style="color: #36454F;">Discover your next favorite book from our extensive collection</p>
    <hr class="my-4" style="background-color: #2563EB; height: 3px; opacity: 1;">
    <p style="color: #36454F;">Browse thousands of books across various categories</p>
    <a class="btn btn-lg" href="{{ url_for('books.list_books') }}" role="button" style="background: #36454F; color: white; border: none; font-weight: 600; box-shadow: 0 4px 14px rgba(54, 69, 79, 0.4); padding: 0.75rem 2rem;" onmouseover="this.style.background='#2C3A45'; this.style.boxShadow='0 6px 20px rgba(44, 58, 69, 0.5)'; this.style.transform='translateY(-2px)'" onmouseout="this.style.background='#36454F'; this.style.boxShadow='0 4px 14px rgba(54, 69, 79, 0.4)'; this.style.transform='translateY(0)'">Browse Books</a>
</div>

<!-- Featured Books -->
<h2 class="mb-4" style="color: #36454F; font-weight: bold; text-align: center; font-size: 2.5rem; margin-top: 3rem;">Featured Books</h2>
<p class="text-center mb-5" style="color: #36454F; font-size: 1.1rem;">Explore our handpicked collection of bestsellers</p>
<div class="row">
    {% for book in books %}
    <div class="col-md-4 mb-4">
        <div class="card h-100 book-card" style="background: #FFFFFF; border: 1px solid #E2E8F0; border-radius: 12px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
            <!-- Book Cover Image -->
            <div style="position: relative; height: 300px; overflow: hidden; background: #F8FAFC;">
                <img src="https://covers.openlibrary.org/b/isbn/{{ loop.index }}73513{{ loop.index }}-L.jpg" 
                     onerror="this.src='https://via.placeholder.com/300x400/36454F/FFFFFF?text={{ book.title[:20] }}'"
                     alt="{{ book.title }}" 
                     style="width: 100%; height: 100%; object-fit: cover;">
                <div style="position: absolute; top: 10px; right: 10px; background: #16A34A; color: white; padding: 0.3rem 0.8rem; border-radius: 20px; font-size: 0.8rem; font-weight: bold; box-shadow: 0 2px 8px rgba(0,0,0,0.3);">
                    ${{ "%.2f"|format(book.price) }}
                </div>
            </div>
            <div class="card-body" style="padding: 1.5rem;">
                <h5 class="card-title" style="color: #0F172A; font-weight: 600; margin-bottom: 0.5rem;">{{ book.title }}</h5>
                <h6 class="card-subtitle mb-3" style="color: #64748B; font-size: 0.9rem;"><i class="bi bi-person"></i> {{ book.author }}</h6>
                <p class="card-text" style="color: #475569; line-height: 1.6; font-size: 0.9rem;">{{ book.description[:80] }}{{ '...' if book.description and book.description|length > 80 else '' }}</p>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 1rem; padding-top: 1rem; border-top: 1px solid #E2E8F0;">
                    <span style="color: #64748B; font-size: 0.85rem;"><i class="bi bi-box-seam"></i> Stock: {{ book.stock }}</span>
                    <span class="badge" style="background: #2563EB; padding: 0.4rem 0.8rem;">{{ book.category.name }}</span>
                </div>
            </div>
            <div class="card-footer" style="background: #F8FAFC; border-top: 1px solid #E2E8F0; padding: 1rem;">
                <a href="{{ url_for('books.detail', id=book.id) }}" class="btn btn-sm w-100" style="background: #2563EB; color: white; border: none; font-weight: 600; padding: 0.7rem; border-radius: 8px;" onmouseover="this.style.background='#1E40AF'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(37, 99, 235, 0.4)'" onmouseout="this.style.background='#2563EB'; this.style.transform='translateY(0)'; this.style.boxShadow='none'"><i class="bi bi-eye"></i> View Details</a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

<style>
.book-card {
    transition: transform 0.6s ease;
}
.book-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 12px 40px rgba(37, 99, 235, 0.3) !important;
}
.book-card .card-footer .btn {
    transition: all 0.3s ease;
}
</style>

<!-- Features Section -->
<div class="row mt-5 mb-5">
    <div class="col-md-4 text-center">
        <i class="bi bi-truck" style="font-size: 3rem; color: #2563EB;"></i>
        <h4 class="mt-3" style="color: #0F172A;">Fast Delivery</h4>
        <p style="color: #64748B;">Quick and reliable shipping</p>
    </div>
    <div class="col-md-4 text-center">
        <i class="bi bi-shield-check" style="font-size: 3rem; color: #2563EB;"></i>
        <h4 class="mt-3" style="color: #0F172A;">Secure Payment</h4>
        <p style="color: #64748B;">Safe and secure transactions</p>
    </div>
    <div class="col-md-4 text-center">
        <i class="bi bi-headset" style="font-size: 3rem; color: #2563EB;"></i>
        <h4 class="mt-3" style="color: #0F172A;">24/7 Support</h4>
        <p style="color: #64748B;">Always here to help you</p>
    </div>
</div>
{% endblock %}
